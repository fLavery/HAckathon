<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Chainlink Node Dashboard</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.css" rel="stylesheet">
  <link rel="stylesheet" href="dc.css" type="text/css" />


</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->

    <!-- Sidebar - Brand -->

    <!-- Divider -->

    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
          <div style="margin-top: 9px;">
            <h2>Heavy Metal Nodes</h2>
          </div>
          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Search -->

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <!-- Nav Item - Search Dropdown (Visible Only XS) -->

            <!-- Nav Item - Get Node Jobs-->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" style="margin-right: 9px;">Node Jobs</button>
            <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="card shadow mb-4">
                    <div class="card-header py-3">
                      <h6 class="m-0 font-weight-bold text-primary">Available Node Jobs</h6>
                    </div>
                    <div class="card-body">
                      <div class="card shadow mb-4">
                        <!-- Card Header - Accordion -->
                        <a href="#collapseCardExample" class="d-block card-header py-3 collapse" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseCardExample">
                          <h6 class="m-0 font-weight-bold text-primary">Request Price of ETH</h6>
                        </a>
                        <!-- Card Content - Collapse -->
                        <div class="collapse show" id="collapseCardExample">
                          <div class="card-body">
                            <strong>Adamantium Node Oracle Address:</strong><code>  0xF5a3d443FccD7eE567000E43B23b0e98d96445CE</code><strong> </br> Job ID:</strong><code> 35167569e99342f28bb651f71ce9ab32</code><br><strong>Price per Request:</strong> <p>0.1 LINK</p>
                          </div>
                        </div>
                        <!-- Card Header - Accordion -->
                        <a href="#collapseCardExample2" class="d-block card-header py-3 collapse" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseCardExample">
                          <h6 class="m-0 font-weight-bold text-primary">Request Price of BTC</h6>
                        </a>
                        <!-- Card Content - Collapse -->
                        <div class="collapse show" id="collapseCardExample2">
                          <div class="card-body">
                            <strong>Adamantium Node Oracle Address:</strong><code>  0xF5a3d443FccD7eE567000E43B23b0e98d96445CE</code><strong> </br> Job ID:</strong><code> 95167569e99342f28bb651f71ce9ab32</code><br><strong>Price per Request:</strong> <p>0.1 LINK</p>
                          </div>
                        </div>
                        <!-- Card Header - Accordion -->
                        <a href="#collapseCardExample3" class="d-block card-header py-3 collapse" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseCardExample">
                          <h6 class="m-0 font-weight-bold text-primary">Request Price of LINK</h6>
                        </a>
                        <!-- Card Content - Collapse -->
                        <div class="collapse show" id="collapseCardExample3">
                          <div class="card-body">
                            <strong>Adamantium Node Oracle Address:</strong><code>  0xF5a3d443FccD7eE567000E43B23b0e98d96445CE</code><strong> </br> Job ID:</strong><code> 90167569e99342f28bb651f71ce9ab32</code><br><strong>Price per Request:</strong> <p>0.1 LINK</p>
                          </div>
                        </div>
                        <!-- Card Header - Accordion -->
                        <a href="#collapseCardExample4" class="d-block card-header py-3 collapse" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseCardExample">
                          <h6 class="m-0 font-weight-bold text-primary">Request Price of TRTL</h6>
                        </a>
                        <!-- Card Content - Collapse -->
                        <div class="collapse show" id="collapseCardExample4">
                          <div class="card-body">
                            <strong>Adamantium Node Oracle Address:</strong><code>  0xF5a3d443FccD7eE567000E43B23b0e98d9HSDF3</code><strong> </br> Job ID:</strong><code>25167569e99342f28bb651f71ce9ab32</code><br><strong>Price per Request:</strong> <p>0.1 LINK</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Nav Item - Messages -->

            <!-- Nav Item - User Information -->


        </nav>
        <!-- End of Topbar -->

        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->


          <!-- Content Row -->
          <div class="row">

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-lg-3 col-md-3 mb-4">
              <div id="btn1" class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">AWS Hosted</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">Adamantium Node</div>
                    </div>
                    <div class="col-auto">
                      <img src="img/nodegrey.png" style="height:42px;width:42px" id="nodeIcon1"></img>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-lg-3 col-md-3 mb-4">
              <div id="btn2" class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Microsoft Axure Hosted</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">Mithril Node</div>
                    </div>
                    <div class="col-auto">
                      <img src="img/nodegrey.png" style="height:42px;width:42px" id="nodeIcon2"></img>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-lg-3 col-md-3 mb-4">
              <div id="btn3" class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">GCP Hosted</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                          <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">Orichalcum Node</div>
                        </div>
                        <div class="col">

                        </div>
                      </div>
                    </div>
                    <div class="col-auto">
                      <img src="img/nodegrey.png" style="height:42px;width:42px" id="nodeIcon3"></img>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pending Requests Card Example -->
            <div class="col-xl-3 col-lg-3 col-md-3 mb-4">
              <div id="btn4" class="card border-left-warning shadow h-100 py-2 pointer ">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Oracle Hosted</div>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">Imperial Gold Node</div>
                    </div>
                    <div class="col-auto">
                      <img src="img/nodegrey.png" style="height:42px;width:42px" id="nodeIcon4"></img>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content Row -->

          <div class="row">

            <!-- Area Chart -->
            <div id="node1" class="col-xl-8 col-lg-8">
              <div id="area-chart-width" class="col-xl-12 col-lg-12">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Adamantium Node</h6>
                    <div class="dropdown no-arrow">
                      <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                      <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                        <div class="dropdown-header">Dropdown Header:</div>
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div id="chart"></div>
                    <script type="text/javascript" src="d3.js"></script>
                    <script type="text/javascript" src="crossfilter.js"></script>
                    <script type="text/javascript" src="dc.js"></script>
                    <script type="text/javascript" src="dc-resizing.js"></script>

                    <script type="text/javascript">
                      function print_filter(filter) {
                        var f = eval(filter);
                        if (typeof(f.length) != "undefined") {}
                        else {}
                        if (typeof(f.top) != "undefined") { f = f.top(Infinity); }
                        else {}
                        if (typeof(f.dimension) != "undefined") { f = f.dimension(function(d) { return ""; }).top(Infinity); }
                        else {}
                        console.log(filter + "(" + f.length + ") = " + JSON.stringify(f).replace("[", "[\n\t").replace(/}\,/g, "},\n\t").replace("]", "\n]"));
                      }

                      var data = [
                        { date: "2011-11-14T16:17:54Z", quantity: 2, total: 20, tip: 10, type: "tab" },
                        { date: "2011-11-14T16:20:19Z", quantity: 2, total: 12, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:28:54Z", quantity: 1, total: 843, tip: 300, type: "visa" },
                        { date: "2011-11-14T16:30:43Z", quantity: 2, total: 13, tip: 30, type: "tab" },
                        { date: "2011-11-14T16:48:46Z", quantity: 2, total: 52, tip: 40, type: "tab" },
                        { date: "2011-11-14T16:53:41Z", quantity: 2, total: 97, tip: 50, type: "tab" },
                        { date: "2011-11-14T16:54:06Z", quantity: 1, total: 53, tip: 74, type: "cash" },
                        { date: "2011-11-14T16:58:03Z", quantity: 2, total: 35, tip: 26, type: "tab" },
                        { date: "2011-11-14T17:07:21Z", quantity: 2, total: 345, tip: 80, type: "tab" },
                        { date: "2011-11-14T17:22:59Z", quantity: 2, total: 10, tip: 79, type: "tab" },
                        { date: "2011-11-14T17:25:45Z", quantity: 2, total: 340, tip: 2, type: "cash" },
                        { date: "2011-11-14T17:29:52Z", quantity: 1, total: 80, tip: 100, type: "visa" }
                      ];

                      data.forEach(function(d) {
                        var tempDate = new Date(d.date);
                        d.date = tempDate;
                      })

                      var facts = crossfilter(data);
                      var typeDimension = facts.dimension(function(d) { return d.type; });
                      var typeGroup = typeDimension.group().reduceSum(function(d) { return d.total; });

                      var totalDimension = facts.dimension(function(d) { return d.total; });
                      var totalGroup = totalDimension.group(function(d) { return Math.floor(d / 100) * 100; });

                      var dateDimension = facts.dimension(function(d) { return d.date; });
                      var dateGroup = dateDimension.group().reduceSum(function(d) { return d.total; });
                      var dateGroupTip = dateDimension.group().reduceSum(function(d) { return d.tip; });

                      var minDate = dateDimension.bottom(1)[0].date;
                      var maxDate = dateDimension.top(1)[0].date;

                      var lineChart = dc.lineChart("#chart")


                        .height(400)
                        .width(900)
                        .elasticX(true)
                        .margins({ top: 10, bottom: 30, right: 10, left: 70 })
                        .dimension(dateDimension)
                        .group(dateGroup, "total spend")
                        .stack(dateGroupTip, "tip")
                        .yAxisLabel("Transaction spend")
                        .renderHorizontalGridLines(true)
                        .renderArea(true)
                        .legend(dc.legend().x(1200).y(5).itemHeight(12).gap(5))
                        .x(d3.scaleTime().domain([minDate, maxDate]))
                        // .centerBar(true)
                        //.xUnits(dc.units.fp.precision(100));
                        // .barPadding(0.2)
                        // .outerPadding(0)
                        .render();
                      lineChart.yAxis().ticks(5);
                      lineChart.xAxis().ticks(4);


                      // apply_resizing(lineChart, 500, 330);


                      dc.renderAll();

                      // console.log(data);
                      console.log(dateDimension.top(1)[0].date);
                      //print_filter('dateDimension.bottom(3)');
                    </script>

                  </div>
                </div>
              </div>
            </div>
            <div id="node2" class="col-xl-8 col-lg-8" style="display:none;">
              <div id="area-chart-width" class="col-xl-12 col-lg-12">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Mithril Node</h6>
                    <div class="dropdown no-arrow">
                      <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                      <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                        <div class="dropdown-header">Dropdown Header:</div>
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div id="chart2"></div>
                    <script type="text/javascript" src="d3.js"></script>
                    <script type="text/javascript" src="crossfilter.js"></script>
                    <script type="text/javascript" src="dc.js"></script>
                    <script type="text/javascript" src="dc-resizing.js"></script>

                    <script type="text/javascript">
                      function print_filter(filter) {
                        var f = eval(filter);
                        if (typeof(f.length) != "undefined") {}
                        else {}
                        if (typeof(f.top) != "undefined") { f = f.top(Infinity); }
                        else {}
                        if (typeof(f.dimension) != "undefined") { f = f.dimension(function(d) { return ""; }).top(Infinity); }
                        else {}
                        console.log(filter + "(" + f.length + ") = " + JSON.stringify(f).replace("[", "[\n\t").replace(/}\,/g, "},\n\t").replace("]", "\n]"));
                      }

                      var data = [
                        { date: "2011-11-14T16:17:54Z", quantity: 2, total: 60, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:20:19Z", quantity: 2, total: 77, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:28:54Z", quantity: 1, total: 898, tip: 200, type: "visa" },
                        { date: "2011-11-14T16:30:43Z", quantity: 2, total: 150, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:48:46Z", quantity: 2, total: 52, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:53:41Z", quantity: 2, total: 14, tip: 50, type: "tab" },
                        { date: "2011-11-14T16:54:06Z", quantity: 1, total: 593, tip: 34, type: "cash" },
                        { date: "2011-11-14T16:58:03Z", quantity: 2, total: 348, tip: 66, type: "tab" },
                        { date: "2011-11-14T17:07:21Z", quantity: 2, total: 354, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:22:59Z", quantity: 2, total: 445, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:25:45Z", quantity: 2, total: 266, tip: 0, type: "cash" },
                        { date: "2011-11-14T17:29:52Z", quantity: 1, total: 208, tip: 100, type: "visa" }
                      ];

                      data.forEach(function(d) {
                        var tempDate = new Date(d.date);
                        d.date = tempDate;
                      })

                      var facts = crossfilter(data);
                      var typeDimension = facts.dimension(function(d) { return d.type; });
                      var typeGroup = typeDimension.group().reduceSum(function(d) { return d.total; });

                      var totalDimension = facts.dimension(function(d) { return d.total; });
                      var totalGroup = totalDimension.group(function(d) { return Math.floor(d / 100) * 100; });

                      var dateDimension = facts.dimension(function(d) { return d.date; });
                      var dateGroup = dateDimension.group().reduceSum(function(d) { return d.total; });
                      var dateGroupTip = dateDimension.group().reduceSum(function(d) { return d.tip; });

                      var minDate = dateDimension.bottom(1)[0].date;
                      var maxDate = dateDimension.top(1)[0].date;

                      var lineChart = dc.lineChart("#chart2")

                        .height(400)
                        .width(900)
                        .elasticX(true)
                        .margins({ top: 10, bottom: 30, right: 10, left: 70 })
                        .dimension(dateDimension)
                        .group(dateGroup, "total spend")
                        .stack(dateGroupTip, "tip")
                        .yAxisLabel("Transaction spend")
                        .renderHorizontalGridLines(true)
                        .renderArea(true)
                        .legend(dc.legend().x(1200).y(5).itemHeight(12).gap(5))
                        .x(d3.scaleTime().domain([minDate, maxDate]))
                        // .centerBar(true)
                        //.xUnits(dc.units.fp.precision(100));
                        // .barPadding(0.2)
                        // .outerPadding(0)
                        .render();
                      lineChart.yAxis().ticks(5);
                      lineChart.xAxis().ticks(4);


                      // apply_resizing(lineChart, 500, 330);


                      dc.renderAll();

                      // console.log(data);
                      console.log(dateDimension.top(1)[0].date);
                      //print_filter('dateDimension.bottom(3)');
                    </script>

                  </div>
                </div>
              </div>
            </div>
            <div id="node3" class="col-xl-8 col-lg-8" style="display:none;">
              <div id="area-chart-width" class="col-xl-12 col-lg-12">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Orichalcum Node</h6>
                    <div class="dropdown no-arrow">
                      <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                      <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                        <div class="dropdown-header">Dropdown Header:</div>
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div id="chart3"></div>
                    <script type="text/javascript" src="d3.js"></script>
                    <script type="text/javascript" src="crossfilter.js"></script>
                    <script type="text/javascript" src="dc.js"></script>
                    <script type="text/javascript" src="dc-resizing.js"></script>

                    <script type="text/javascript">
                      function print_filter(filter) {
                        var f = eval(filter);
                        if (typeof(f.length) != "undefined") {}
                        else {}
                        if (typeof(f.top) != "undefined") { f = f.top(Infinity); }
                        else {}
                        if (typeof(f.dimension) != "undefined") { f = f.dimension(function(d) { return ""; }).top(Infinity); }
                        else {}
                        console.log(filter + "(" + f.length + ") = " + JSON.stringify(f).replace("[", "[\n\t").replace(/}\,/g, "},\n\t").replace("]", "\n]"));
                      }

                      var data = [
                        { date: "2011-11-14T16:17:54Z", quantity: 2, total: 340, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:20:19Z", quantity: 2, total: 632, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:28:54Z", quantity: 1, total: 883, tip: 200, type: "visa" },
                        { date: "2011-11-14T16:30:43Z", quantity: 2, total: 143, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:48:46Z", quantity: 2, total: 523, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:53:41Z", quantity: 2, total: 585, tip: 50, type: "tab" },
                        { date: "2011-11-14T16:54:06Z", quantity: 1, total: 523, tip: 34, type: "cash" },
                        { date: "2011-11-14T16:58:03Z", quantity: 2, total: 33, tip: 66, type: "tab" },
                        { date: "2011-11-14T17:07:21Z", quantity: 2, total: 35, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:22:59Z", quantity: 2, total: 700, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:25:45Z", quantity: 2, total: 300, tip: 0, type: "cash" },
                        { date: "2011-11-14T17:29:52Z", quantity: 1, total: 700, tip: 100, type: "visa" }
                      ];

                      data.forEach(function(d) {
                        var tempDate = new Date(d.date);
                        d.date = tempDate;
                      })

                      var facts = crossfilter(data);
                      var typeDimension = facts.dimension(function(d) { return d.type; });
                      var typeGroup = typeDimension.group().reduceSum(function(d) { return d.total; });

                      var totalDimension = facts.dimension(function(d) { return d.total; });
                      var totalGroup = totalDimension.group(function(d) { return Math.floor(d / 100) * 100; });

                      var dateDimension = facts.dimension(function(d) { return d.date; });
                      var dateGroup = dateDimension.group().reduceSum(function(d) { return d.total; });
                      var dateGroupTip = dateDimension.group().reduceSum(function(d) { return d.tip; });

                      var minDate = dateDimension.bottom(1)[0].date;
                      var maxDate = dateDimension.top(1)[0].date;

                      var lineChart = dc.lineChart("#chart3")

                        .height(400)
                        .width(900)
                        .elasticX(true)
                        .margins({ top: 10, bottom: 30, right: 10, left: 70 })
                        .dimension(dateDimension)
                        .group(dateGroup, "total spend")
                        .stack(dateGroupTip, "tip")
                        .yAxisLabel("Transaction spend")
                        .renderHorizontalGridLines(true)
                        .renderArea(true)
                        .legend(dc.legend().x(1200).y(5).itemHeight(12).gap(5))
                        .x(d3.scaleTime().domain([minDate, maxDate]))
                        // .centerBar(true)
                        //.xUnits(dc.units.fp.precision(100));
                        // .barPadding(0.2)
                        // .outerPadding(0)
                        .render();
                      lineChart.yAxis().ticks(5);
                      lineChart.xAxis().ticks(4);


                      // apply_resizing(lineChart, 500, 330);


                      dc.renderAll();

                      // console.log(data);
                      console.log(dateDimension.top(1)[0].date);
                      //print_filter('dateDimension.bottom(3)');
                    </script>

                  </div>
                </div>
              </div>
            </div>
            <div id="node4" class="col-xl-8 col-lg-8" style="display:none;">
              <div id="area-chart-width" class="col-xl-12 col-lg-12">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Imperial Gold Node</h6>
                    <div class="dropdown no-arrow">
                      <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                      <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                        <div class="dropdown-header">Dropdown Header:</div>
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                      </div>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div id="chart4"></div>
                    <script type="text/javascript" src="d3.js"></script>
                    <script type="text/javascript" src="crossfilter.js"></script>
                    <script type="text/javascript" src="dc.js"></script>
                    <script type="text/javascript" src="dc-resizing.js"></script>

                    <script type="text/javascript">
                      function print_filter(filter) {
                        var f = eval(filter);
                        if (typeof(f.length) != "undefined") {}
                        else {}
                        if (typeof(f.top) != "undefined") { f = f.top(Infinity); }
                        else {}
                        if (typeof(f.dimension) != "undefined") { f = f.dimension(function(d) { return ""; }).top(Infinity); }
                        else {}
                        console.log(filter + "(" + f.length + ") = " + JSON.stringify(f).replace("[", "[\n\t").replace(/}\,/g, "},\n\t").replace("]", "\n]"));
                      }

                      var data = [
                        { date: "2011-11-14T16:17:54Z", quantity: 2, total: 30, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:20:19Z", quantity: 2, total: 67, tip: 100, type: "tab" },
                        { date: "2011-11-14T16:28:54Z", quantity: 1, total: 88, tip: 200, type: "visa" },
                        { date: "2011-11-14T16:30:43Z", quantity: 2, total: 120, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:48:46Z", quantity: 2, total: 54, tip: 0, type: "tab" },
                        { date: "2011-11-14T16:53:41Z", quantity: 2, total: 134, tip: 50, type: "tab" },
                        { date: "2011-11-14T16:54:06Z", quantity: 1, total: 543, tip: 34, type: "cash" },
                        { date: "2011-11-14T16:58:03Z", quantity: 2, total: 345, tip: 66, type: "tab" },
                        { date: "2011-11-14T17:07:21Z", quantity: 2, total: 355, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:22:59Z", quantity: 2, total: 400, tip: 0, type: "tab" },
                        { date: "2011-11-14T17:25:45Z", quantity: 2, total: 200, tip: 0, type: "cash" },
                        { date: "2011-11-14T17:29:52Z", quantity: 1, total: 200, tip: 100, type: "visa" }
                      ];

                      data.forEach(function(d) {
                        var tempDate = new Date(d.date);
                        d.date = tempDate;
                      })

                      var facts = crossfilter(data);
                      var typeDimension = facts.dimension(function(d) { return d.type; });
                      var typeGroup = typeDimension.group().reduceSum(function(d) { return d.total; });

                      var totalDimension = facts.dimension(function(d) { return d.total; });
                      var totalGroup = totalDimension.group(function(d) { return Math.floor(d / 100) * 100; });

                      var dateDimension = facts.dimension(function(d) { return d.date; });
                      var dateGroup = dateDimension.group().reduceSum(function(d) { return d.total; });
                      var dateGroupTip = dateDimension.group().reduceSum(function(d) { return d.tip; });

                      var minDate = dateDimension.bottom(1)[0].date;
                      var maxDate = dateDimension.top(1)[0].date;

                      var lineChart = dc.lineChart("#chart4")

                        .height(400)
                        .width(900)
                        .elasticX(true)
                        .margins({ top: 10, bottom: 30, right: 10, left: 70 })
                        .dimension(dateDimension)
                        .group(dateGroup, "total spend")
                        .stack(dateGroupTip, "tip")
                        .yAxisLabel("Transaction spend")
                        .renderHorizontalGridLines(true)
                        .renderArea(true)
                        .legend(dc.legend().x(1200).y(5).itemHeight(12).gap(5))
                        .x(d3.scaleTime().domain([minDate, maxDate]))
                        // .centerBar(true)
                        //.xUnits(dc.units.fp.precision(100));
                        // .barPadding(0.2)
                        // .outerPadding(0)
                        .render();
                      lineChart.yAxis().ticks(5);
                      lineChart.xAxis().ticks(4);


                      // apply_resizing(lineChart, 620, 350);


                      dc.renderAll();

                      // console.log(data);
                      console.log(dateDimension.top(1)[0].date);
                      //print_filter('dateDimension.bottom(3)');
                    </script>

                  </div>
                </div>
              </div>
            </div>

            <!-- Pie Chart -->
            <div class="col-xl-4 col-lg-4">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Revenue Sources</h6>
                  <div class="dropdown no-arrow">
                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                      <div class="dropdown-header">Dropdown Header:</div>
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <div class="dropdown-divider"></div>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                  </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                  <div id="piechart"></div>

                  <script type="text/javascript">
                    //Allows user frindly output of Objects in Console
                    function print_filter(filter) {
                      var f = eval(filter);
                      if (typeof(f.length) != "undefined") {}
                      else {}
                      if (typeof(f.top) != "undefined") { f = f.top(Infinity); }
                      else {}
                      if (typeof(f.dimension) != "undefined") { f = f.dimension(function(d) { return ""; }).top(Infinity); }
                      else {}
                      console.log(filter + "(" + f.length + ") = " + JSON.stringify(f).replace("[", "[\n\t").replace(/}\,/g, "},\n\t").replace("]", "\n]"));
                    }





                    //CROSSFILTER
                    //filter the data
                    var all = facts.groupAll();
                    var sumTotal = all.reduceSum(function(d) { return d.total; }).value(); //get percentages for pie chart
                    var typeDimension = facts.dimension(function(d) { console.log(d.type); return d.type; });
                    //access facts with CF dimension and then function which returns objects
                    var typeGroup = typeDimension.group().reduceSum(function(d) { return d.total; }); //reduceSum allows access to all data points

                    //plot totals instead of types with new dimension (x axis)
                    var totalDimension = facts.dimension(function(d) { return d.total; });
                    var totalGroup = totalDimension.group(function(d) { return Math.floor(d / 100) * 100; }); //function buckets the data (y axis)//Math.floor = round down, MAth.ceiling = round 

                    var dateDimension = facts.dimension(function(d) { return d.date; }); //for line chart 
                    var dateGroup = dateDimension.group().reduceSum(function(d) { return d.total; });
                    var dateGroupTip = dateDimension.group().reduceSum(function(d) { return d.tip; });


                    var minDate = dateDimension.bottom(1)[0].date; //set minimum and max
                    var maxDate = dateDimension.top(1)[0].date;



                    //Chart settings

                    var pieChart = dc.pieChart("#piechart")
                      .height(400)
                      .width(400)
                      .radius(300) //general size of pie chart
                      .innerRadius(50) //doughnut piechart

                      .title(function(d) { return d.key + ': $' + d.value; }) //hover add $
                      .colors(d3.scaleOrdinal(d3.schemeAccent))
                      .label(function(d) { return d.key + ':' + Math.round((d.value / sumTotal) * 100, 0) + '%'; }) //percentage hover label
                      //.margins({top:10,bottom:30,right:10,left:50})    
                      .dimension(typeDimension)
                      .group(typeGroup)
                      //.stack(dateGroupTip, "Tip")
                      //.renderHorizontalGridLines(true)//grid lines
                      //.renderArea(true)//fill area
                      .legend(dc.legend().x(0).y(0).itemHeight(12).gap(5)) //DC specific class for legends
                    //.x(d3.scaleTime().domain([minDate,maxDate]))
                    //.yAxisLabel("Transaction spend");
                    //.x(d3.scaleLinear().domain([0,400]))//scaling for non strings bar chart
                    //.x(d3.scaleOrdinal().domain(['cash','tab','visa'])) //scaling for strings with ordinal
                    //.xUnits(dc.units.ordinal) // tell dc its an ordinal scale
                    //.centerBar(true)//centers bars for linear
                    //.xUnits(dc.units.fp.precision(100))//fattens up bars for linear scale
                    //.barPadding(0.5)//inner bar gaps
                    //.outerPadding(10)//outer padding on bars
                    //lineChart.yAxis().ticks(4);//number of integer marked along the left
                    //lineChart.xAxis().ticks(4);

                    dc.renderAll(); //render Chart
                  </script>

                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-12 mb-4">

            <!-- Illustrations -->
            <!--  <div class="card shadow mb-4">-->
            <!--    <div class="card-header py-3">-->
            <!--      <h6 class="m-0 font-weight-bold text-primary">Illustrations</h6>-->
            <!--    </div>-->
            <!--    <div class="card-body">-->
            <!--      <table id="table" class="class=" table table-bordered dataTable ""></table>-->
            <!--      </table>-->
            <!--      <script>-->
            <!--        var dateDimension = facts.dimension(function(d) { return d.date; })-->

            <!--        var dataTable = dc.dataTable("#table")-->
            <!--          .width(100)-->
            <!--          .height(300)-->
            <!--          .dimension(dateDimension)-->
            <!--          .group(function(d) { console.log(d); return d.type })-->
            <!--          .columns(['date', 'quantity', 'total', 'tip', 'type']);-->


            <!--        dc.renderAll();-->
            <!--      </script>-->
            <!--    </div>-->

            <!--  </div>-->
            <!--</div>-->

            <!-- Content Row -->
            <div class="row">

              <!-- Content Column -->
              <div class="col-lg-6 mb-4">

                <!-- Project Card Example -->


                <!-- Color System -->

              </div>



              <!-- Approach -->
              <div class="card shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-primary">Heavy Metal Nodes</h6>
                </div>
                <div class="card-body">
                  <p>We have decided to use a combination of our own infrastructure and cloud services (AWS, DigitalOcean). Even-though we could have run the entire Chainlink infrastructure on AWS alone in our opinion it makes sense to use atleast one of
                  the other cloud providers (Google Cloud Platform, Microsoft Azure, Oracle Cloud, Amazon Web Services) or your own infrastructure in case AWS will have multi region or global failure. Each set of nodes is geo-redundant by being hosted in different
                    regions by different providers. Our own servers are hosted by a hosting provider certified in accordance with DIN ISO/IEC 27001. It also offers state of the art DDoS protection and multiple 100 GBit/s peering points on the backbone
                    with guaranteed bandwidth of 1GBit/s.</p>
                  <p>
                    Oracles/jobs addresses can be found by hitting the Node Jobs Button.
                    
                  </p>
                  
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg" style="margin-right: 9px;">Node Jobs</button>
                    
                </div>
              </div>

            </div>
          </div>

        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- End of Main Content -->

      <!-- Footer -->

      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="login.html">Logout</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.js"></script>

  <!-- Page level plugins -->
  <!--<script src="vendor/chart.js/Chart.min.js"></script>-->

  <!-- Page level custom scripts -->
  <!--<script src="js/demo/chart-area-demo.js"></script>-->
  <!--<script src="js/demo/chart-pie-demo.js"></script>-->

</body>

</html>
